<html>
<head>
    {% block head %}
        <title>{% block title %}{% block page_title %}{% endblock %} - Chatroom{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="{{ url_for('chat.static', filename='logo.png') }}">
        <link rel="stylesheet" href="{{ url_for('chat.static', filename='css/style.css') }}">
    {% endblock %}
</head>
<body>

{% block nav %}
    <div >
        <!-- logo 网站名 -->
        <a href="{{ url_for('chat.index') }}">
            <img src="{{ url_for('chat.static', filename='logo.png') }}">
            <span>Chatroom</span>
        </a>

        <!-- 用户名/sign in -->
        <div >
            {% if current_user.is_authenticated %}
                <div>
                    <p>{{ current_user.nickname }}</p>
                </div>
            {% else %}
                <div>
                    <a href="{{ url_for('auth.login') }}">Sign in</a>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}

<!-- 右框 显示聊天室所有人员-->
{% block right %}{% endblock %}
<!-- 聊天面板 -->
{% block content %}{% endblock %}

{% block scripts %}
    <script src="{{ url_for('chat.static', filename='js/jquery.js') }}"></script>
    <script src="{{ url_for('chat.static', filename='js/socket.io.min.js') }}"></script>
    <script src="{{ url_for('chat.static', filename='js/script.js') }}"></script>
    {{ moment.include_moment(local_js=url_for('chat.static', filename='js/moment-with-locales.min.js')) }}
    <script type="text/javascript">
        var root_url = "{{ url_for('chat.index') }}";
        var current_user_id = {{ current_user.id|default(0) }};
    </script>
{% endblock %}
</body>
</html>
